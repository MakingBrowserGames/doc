<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Game Closure SDK: $if(pagetitle)$$pagetitle$$endif$</title>
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		$if(quotes)$
		<style type="text/css">
			q { quotes: "“" "”" "‘" "’"; }
		</style>
		$endif$
		<base href="http://doc.gameclosure.com/">
		<link rel="stylesheet" href="./include/style.css">
		<link rel="stylesheet" href="./include/prettify.css">
		<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300,300italic,700">
		<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Inconsolata">

		$for(header-includes)$
		$header-includes$
		$endfor$
	</head>

  <body>
		$for(include-before)$
		$include-before$
		$endfor$

		<header>
			<!--take this message out when docs go public-->
			<p style="color:#f00; text-align:center;">See a problem? Want to add more detail? Please do <a href="https://github.com/gameclosure/doc/tree/master/portal/doc" target="_blank">here</a>! (Don't worry, we'll clean it up.)</p>
			
			$if(title)$
			<h1 class="title">$title$</h1>
			$endif$
		</header>

		m4_include(sidebar_nav)m4_dnl

		<div id="main">
		$body$
		$for(include-after)$
		$include-after$
		$endfor$
		</div>

		<aside id="quicknav">
			<h1>QuickNav</h1>
			<ul></ul>
		</aside>
		
		<footer>
			&copy; Game Closure
		</footer>

		<script src="./include/prettify.js"></script>
		<script>
			window.onload = function () {
				/* prettify.js
				 */
				var tags = document.getElementsByTagName('pre');
				for (var i = 0; i < tags.length; ++i) {
					tags[i].setAttribute('class', 'prettyprint');
				}
				prettyPrint();

				/* quicknav menu
				 */
				var quicknav = document.querySelectorAll('#quicknav ul')[0],
						nav_elements = document.querySelectorAll('#main h1, #main h2, #main h3');

				Array.prototype.slice.call(nav_elements).forEach(function (h) {

					var li = document.createElement('li'),
							a = document.createElement('a');

					a.innerText = h.innerText;
					a.setAttribute('href', window.location.href + '#' + h.getAttribute('id'));
					a.setAttribute('indent', h.tagName);
					
					li.appendChild(a);
					quicknav.appendChild(li)
				});

				/* current page
				 */
				Array.prototype.slice.call(document.links).forEach(function (l) {
					if (l.href == window.location.href)
						l.className = 'current';
				})
			};
		</script>
  </body>
</html>
